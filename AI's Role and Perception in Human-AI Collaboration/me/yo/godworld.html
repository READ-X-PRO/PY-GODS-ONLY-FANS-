<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>God Game 3D World</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      width: 100%;
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #1a237e;
    }
    #container {
      width: 100vw;
      height: 100vh;
      position: absolute;
      top: 0; left: 0;
      z-index: 1;
    }
    .overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: none;
    }
    .title {
      font-size: 2.7em;
      color: #ffd740;
      text-shadow: 0 2px 8px #000a;
      letter-spacing: 2px;
      margin-bottom: 0.5em;
      pointer-events: none;
    }
    .story {
      font-size: 1.4em;
      color: #fff;
      background: rgba(30,30,60,0.7);
      border-radius: 12px;
      padding: 18px 32px;
      margin-bottom: 1.5em;
      text-align: center;
      min-width: 320px;
      max-width: 600px;
      pointer-events: none;
      box-shadow: 0 2px 16px #0005;
    }
    .play-btn {
      font-size: 1.3em;
      background: linear-gradient(90deg, #ffd740, #ff9800);
      color: #222;
      border: none;
      border-radius: 8px;
      padding: 16px 48px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 2px 12px #0007;
      margin-bottom: 2em;
      pointer-events: auto;
      transition: background 0.2s, color 0.2s;
    }
    .play-btn:hover {
      background: linear-gradient(90deg, #ff9800, #ffd740);
      color: #fff;
    }
    @media (max-width: 700px) {
      .title { font-size: 1.5em; }
      .story { font-size: 1em; min-width: 180px; padding: 10px 8px; }
      .play-btn { font-size: 1em; padding: 10px 18px; }
    }
  </style>
</head>
<body>
  <div id="container"></div>
  <div class="overlay" id="overlay">
    <div class="title">Shape Your World</div>
    <div class="story" id="storyText">
      As a new god, you awaken to a barren world. Will you bring light, life, and balance?
    </div>
    <button class="play-btn" id="playBtn">Play</button>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.153.0/examples/js/controls/OrbitControls.min.js"></script>
  <script>
    // Scene setup
    const scene = new THREE.Scene();

    // Gradient sky background
    const canvas = document.createElement('canvas');
    canvas.width = 32; canvas.height = 512;
    const ctx = canvas.getContext('2d');
    const grad = ctx.createLinearGradient(0,0,0,512);
    grad.addColorStop(0, "#1a237e");
    grad.addColorStop(0.5, "#42a5f5");
    grad.addColorStop(1, "#ff9800");
    ctx.fillStyle = grad;
    ctx.fillRect(0,0,32,512);
    const bgTexture = new THREE.CanvasTexture(canvas);
    scene.background = bgTexture;

    // Camera
    const camera = new THREE.PerspectiveCamera(
      60, window.innerWidth / window.innerHeight, 0.1, 1000
    );
    camera.position.set(0, 0, 7);

    // Renderer
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById('container').appendChild(renderer.domElement);

    // Controls (mouse movement)
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.08;
    controls.enablePan = false;
    controls.minDistance = 5;
    controls.maxDistance = 12;

    // Planet (sphere)
    const planetGeometry = new THREE.SphereGeometry(2, 64, 64);
    const planetMaterial = new THREE.MeshPhongMaterial({
      color: 0x3fa9f5,
      shininess: 60,
      specular: 0xdddddd
    });
    const planet = new THREE.Mesh(planetGeometry, planetMaterial);
    scene.add(planet);

    // Land (simple noise pattern)
    const landGeometry = new THREE.SphereGeometry(2.01, 64, 64);
    const landMaterial = new THREE.MeshPhongMaterial({
      color: 0x4caf50,
      shininess: 10,
      transparent: true,
      opacity: 0.45
    });
    const land = new THREE.Mesh(landGeometry, landMaterial);
    land.rotation.y = Math.PI / 4;
    scene.add(land);

    // Clouds
    const cloudGeometry = new THREE.SphereGeometry(2.08, 64, 64);
    const cloudMaterial = new THREE.MeshPhongMaterial({
      color: 0xffffff,
      transparent: true,
      opacity: 0.18
    });
    const clouds = new THREE.Mesh(cloudGeometry, cloudMaterial);
    scene.add(clouds);

    // Atmosphere (glow)
    const atmosphereGeometry = new THREE.SphereGeometry(2.15, 64, 64);
    const atmosphereMaterial = new THREE.MeshBasicMaterial({
      color: 0x00bfff,
      transparent: true,
      opacity: 0.13
    });
    const atmosphere = new THREE.Mesh(atmosphereGeometry, atmosphereMaterial);
    scene.add(atmosphere);

    // Sun and Moon (for day/night cycle)
    const sun = new THREE.PointLight(0xfff59d, 1.2, 100);
    sun.position.set(8, 6, 8);
    scene.add(sun);

    const sunSphere = new THREE.Mesh(
      new THREE.SphereGeometry(0.35, 32, 32),
      new THREE.MeshBasicMaterial({ color: 0xfff176, emissive: 0xfff176 })
    );
    sunSphere.position.copy(sun.position);
    scene.add(sunSphere);

    const moon = new THREE.PointLight(0x90caf9, 0.5, 100);
    moon.position.set(-8, -6, -8);
    scene.add(moon);

    const moonSphere = new THREE.Mesh(
      new THREE.SphereGeometry(0.28, 32, 32),
      new THREE.MeshBasicMaterial({ color: 0x90caf9, emissive: 0x90caf9 })
    );
    moonSphere.position.copy(moon.position);
    scene.add(moonSphere);

    // Ambient light
    const ambient = new THREE.AmbientLight(0xffffff, 0.25);
    scene.add(ambient);

    // Story scenes
    const scenes = [
      "As a new god, you awaken to a barren world. Will you bring light, life, and balance?",
      "You let the sun rise, and the world warms. Clouds gather, and rain brings water.",
      "Life emerges: plants, then creatures. The world thrives under your guidance.",
      "Night falls. The moon glows. Your world dreams, awaiting your next miracle.",
      "A new day dawns. What will you create next?"
    ];
    let sceneIndex = 0;

    // Day/night cycle
    let time = 0; // 0 to 1, 0=sunrise, 0.5=sunset, 1=next sunrise
    let playing = false;
    let lastSceneChange = 0;

    // Animate
    function animate() {
      requestAnimationFrame(animate);

      if (playing) {
        time += 0.0007; // speed of day/night
        if (time > 1) time = 0;

        // Sun and moon orbit
        const angle = time * Math.PI * 2;
        sun.position.set(Math.cos(angle) * 8, Math.sin(angle) * 6, Math.sin(angle) * 8);
        sunSphere.position.copy(sun.position);
        moon.position.set(Math.cos(angle + Math.PI) * 8, Math.sin(angle + Math.PI) * 6, Math.sin(angle + Math.PI) * 8);
        moonSphere.position.copy(moon.position);

        // Change ambient light for day/night
        ambient.intensity = 0.18 + 0.32 * Math.max(0, Math.sin(angle));
        planetMaterial.color.setHSL(0.58, 0.7, 0.45 + 0.15 * Math.max(0, Math.sin(angle)));
        landMaterial.opacity = 0.35 + 0.15 * Math.max(0, Math.sin(angle));
        cloudMaterial.opacity = 0.12 + 0.10 * Math.max(0, Math.sin(angle));

        // Scene/story progression
        if (performance.now() - lastSceneChange > 6000 && sceneIndex < scenes.length - 1) {
          sceneIndex++;
          document.getElementById('storyText').textContent = scenes[sceneIndex];
          lastSceneChange = performance.now();
        }
      }

      // Rotate planet and clouds
      planet.rotation.y += 0.0015;
      land.rotation.y += 0.0018;
      clouds.rotation.y += 0.0022;
      atmosphere.rotation.y += 0.001;

      controls.update();
      renderer.render(scene, camera);
    }
    animate();

    // Responsive
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // Play button
    document.getElementById('playBtn').onclick = function() {
      playing = true;
      lastSceneChange = performance.now();
      document.getElementById('overlay').style.display = 'none';
    };
  </script>
</body>
</html>